<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XRP Consolidated Dashboard v1.5</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #ffffff;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid #4facfe;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .last-updated {
            color: #a8dadc;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);
        }

        .card h2 {
            color: #4facfe;
            margin-bottom: 15px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h3 {
            color: #00f2fe;
            margin: 15px 0 10px 0;
            font-size: 1.2rem;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: #a8dadc;
            font-weight: 500;
        }

        .metric-value {
            color: #ffffff;
            font-weight: bold;
        }

        .positive {
            color: #2ecc71;
        }

        .negative {
            color: #e74c3c;
        }

        .neutral {
            color: #f39c12;
        }

        .price-big {
            font-size: 3rem;
            text-align: center;
            margin: 20px 0;
            color: #4facfe;
            text-shadow: 0 0 20px rgba(79, 172, 254, 0.5);
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            margin: 5px 5px 5px 0;
        }

        .badge-success {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid #2ecc71;
        }

        .badge-warning {
            background: rgba(243, 156, 18, 0.2);
            color: #f39c12;
            border: 1px solid #f39c12;
        }

        .badge-danger {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid #e74c3c;
        }

        .badge-info {
            background: rgba(79, 172, 254, 0.2);
            color: #4facfe;
            border: 1px solid #4facfe;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .trigger-item {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #4facfe;
        }

        .milestone-list {
            list-style: none;
            padding-left: 0;
        }

        .milestone-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #a8dadc;
        }

        .milestone-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #2ecc71;
            font-weight: bold;
        }

        .recommendation {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1));
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #4facfe;
            margin: 20px 0;
        }

        .timeline-event {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #00f2fe;
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.2rem;
            color: #4facfe;
        }

        .error {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e74c3c;
            margin: 20px 0;
        }

        .section-header {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            padding: 15px 25px;
            border-radius: 10px;
            margin: 30px 0 20px 0;
            font-size: 1.5rem;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(79, 172, 254, 0.2);
            color: #4facfe;
            font-weight: bold;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8rem;
            }

            .price-big {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä XRP Consolidated Dashboard</h1>
            <div class="last-updated" id="lastUpdated">Loading...</div>
            <p style="color: #a8dadc; margin-top: 10px; font-size: 0.9rem;">
                Comprehensive price projection and trigger monitoring
            </p>
        </header>

        <div id="content">
            <div class="loading">‚è≥ Loading dashboard data...</div>
        </div>
    </div>

    <script>
        // Configuration
        const JSON_URL = 'xrp_consolidated_dashboard.json';

        // Utility Functions
        function formatNumber(num) {
            if (num === null || num === undefined) return 'N/A';
            if (typeof num === 'string') return num;

            if (num >= 1e12) return '$' + (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return '$' + (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return '$' + (num / 1e6).toFixed(2) + 'M';
            if (num >= 1000) return '$' + (num / 1000).toFixed(2) + 'K';

            return num.toFixed(2);
        }

        function formatPercent(num) {
            if (num === null || num === undefined) return 'N/A';
            const sign = num >= 0 ? '+' : '';
            return sign + num.toFixed(2) + '%';
        }

        function getColorClass(value) {
            if (value > 0) return 'positive';
            if (value < 0) return 'negative';
            return 'neutral';
        }

        function getBadgeClass(status) {
            const statusLower = (status || '').toLowerCase();
            if (statusLower.includes('complete') || statusLower.includes('achieved') || statusLower.includes('strong')) {
                return 'badge-success';
            }
            if (statusLower.includes('warning') || statusLower.includes('pending') || statusLower.includes('moderate')) {
                return 'badge-warning';
            }
            if (statusLower.includes('critical') || statusLower.includes('high') || statusLower.includes('extreme')) {
                return 'badge-danger';
            }
            return 'badge-info';
        }

        // Load and Display Dashboard
        async function loadDashboard() {
            try {
                const response = await fetch(JSON_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();

                renderDashboard(data);
            } catch (error) {
                console.error('Error loading dashboard:', error);
                document.getElementById('content').innerHTML = `
                    <div class="error">
                        <h2>‚ö†Ô∏è Error Loading Dashboard</h2>
                        <p>${error.message}</p>
                        <p>Please ensure the JSON file is accessible and properly formatted.</p>
                    </div>
                `;
            }
        }

        function renderDashboard(data) {
            const content = document.getElementById('content');

            // Update last updated timestamp
            const lastUpdated = data.metadata?.last_updated || 'Unknown';
            document.getElementById('lastUpdated').innerHTML = `
                üìÖ Last Updated: ${lastUpdated} | Version: ${data.metadata?.version || 'N/A'}
            `;

            let html = '';

            // Current Market Metrics Section
            html += renderMarketMetrics(data.current_market_metrics);

            // Key Insights Summary
            html += renderKeyInsights(data.key_insights_summary);

            // Trigger Dashboard
            html += renderTriggerDashboard(data.trigger_dashboard);

            // Investment Recommendations
            html += renderInvestmentRecommendations(data.investment_recommendations);

            // Risk Dashboard
            html += renderRiskDashboard(data.risk_dashboard);

            // Timeline Roadmap
            html += renderTimelineRoadmap(data.timeline_roadmap);

            // Price Scenarios
            html += renderPriceScenarios(data.price_scenarios);

            // New Developments
            html += renderNewDevelopments(data);

            content.innerHTML = html;
        }

        function renderMarketMetrics(metrics) {
            if (!metrics) return '';

            return `
                <div class="section-header">üí∞ Current Market Metrics</div>
                <div class="grid">
                    <div class="card">
                        <h2>üíµ Price Overview</h2>
                        <div class="price-big">$${metrics.price_usd?.toFixed(2) || 'N/A'}</div>
                        <div class="metric">
                            <span class="metric-label">24h Change</span>
                            <span class="metric-value ${getColorClass(metrics.price_change_24h_pct)}">
                                ${formatPercent(metrics.price_change_24h_pct)}
                            </span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">From ATH</span>
                            <span class="metric-value ${getColorClass(metrics.distance_from_ath_pct)}">
                                ${formatPercent(metrics.distance_from_ath_pct)}
                            </span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">YTD Performance</span>
                            <span class="metric-value ${getColorClass(metrics.ytd_performance_pct)}">
                                ${formatPercent(metrics.ytd_performance_pct)}
                            </span>
                        </div>
                    </div>

                    <div class="card">
                        <h2>üìä Market Stats</h2>
                        <div class="metric">
                            <span class="metric-label">Market Cap</span>
                            <span class="metric-value">${formatNumber(metrics.market_cap_usd)}</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">24h Volume</span>
                            <span class="metric-value">${formatNumber(metrics.volume_24h_usd)}</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Circulating Supply</span>
                            <span class="metric-value">${(metrics.circulating_supply / 1e9).toFixed(2)}B XRP</span>
                        </div>
                        ${metrics.recovery_from_crash_pct ? `
                        <div class="metric">
                            <span class="metric-label">Recovery from Crash</span>
                            <span class="metric-value positive">${formatPercent(metrics.recovery_from_crash_pct)}</span>
                        </div>
                        ` : ''}
                    </div>

                    <div class="card">
                        <h2>üìà Technical Indicators</h2>
                        ${metrics.technical_indicators ? `
                        <div class="metric">
                            <span class="metric-label">RSI (14)</span>
                            <span class="metric-value">${metrics.technical_indicators.rsi_14 || 'N/A'}</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">MA 50</span>
                            <span class="metric-value">$${metrics.technical_indicators.ma_50?.toFixed(2) || 'N/A'}</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">MA 200</span>
                            <span class="metric-value">$${metrics.technical_indicators.ma_200?.toFixed(2) || 'N/A'}</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Trend</span>
                            <span class="metric-value" style="font-size: 0.85rem;">${metrics.technical_indicators.trend || 'N/A'}</span>
                        </div>
                        ` : '<p>Technical data not available</p>'}
                    </div>
                </div>
            `;
        }

        function renderKeyInsights(insights) {
            if (!insights) return '';

            return `
                <div class="section-header">üî• Key Insights Summary</div>
                <div class="card">
                    <div class="grid">
                        <div>
                            <h3>üìä Overall Assessment</h3>
                            <p>${insights.overall_assessment || 'N/A'}</p>
                        </div>
                        <div>
                            <h3>üéØ Near-Term Catalyst</h3>
                            <p>${insights.biggest_near_term_catalyst || 'N/A'}</p>
                        </div>
                    </div>
                    <h3>üíé Critical Highlights</h3>
                    <ul class="milestone-list">
                        ${insights.evernorth_significance ? `<li>${insights.evernorth_significance}</li>` : ''}
                        ${insights.federal_reserve_milestone ? `<li>${insights.federal_reserve_milestone}</li>` : ''}
                        ${insights.rlusd_milestone ? `<li>${insights.rlusd_milestone}</li>` : ''}
                        ${insights.whale_behavior_reversal ? `<li>${insights.whale_behavior_reversal}</li>` : ''}
                        ${insights.government_shutdown_update ? `<li>${insights.government_shutdown_update}</li>` : ''}
                    </ul>
                </div>
            `;
        }

        function renderTriggerDashboard(triggers) {
            if (!triggers) return '';

            let html = '<div class="section-header">üéØ Trigger Completion Dashboard</div><div class="grid">';

            for (const [key, trigger] of Object.entries(triggers)) {
                if (typeof trigger !== 'object') continue;

                html += `
                    <div class="card">
                        <h2>${trigger.trigger_name || key}</h2>
                        <span class="badge ${getBadgeClass(trigger.status)}">${trigger.status || 'Unknown'}</span>

                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${trigger.completion_pct || 0}%">
                                ${trigger.completion_pct || 0}%
                            </div>
                        </div>

                        <h3>Key Metrics</h3>
                        ${renderObject(trigger.key_metrics)}

                        ${trigger.milestones_completed?.length ? `
                        <h3>‚úÖ Completed</h3>
                        <ul class="milestone-list">
                            ${trigger.milestones_completed.slice(-3).map(m => `<li>${m}</li>`).join('')}
                        </ul>
                        ` : ''}

                        ${trigger.milestones_pending?.length ? `
                        <h3>‚è≥ Pending</h3>
                        <ul style="list-style: none; padding-left: 0;">
                            ${trigger.milestones_pending.slice(0, 3).map(m => `<li style="color: #a8dadc; padding: 5px 0;">‚ñ™ ${m}</li>`).join('')}
                        </ul>
                        ` : ''}

                        ${trigger.last_updated ? `
                        <p style="color: #666; font-size: 0.85rem; margin-top: 10px;">Updated: ${trigger.last_updated}</p>
                        ` : ''}
                    </div>
                `;
            }

            html += '</div>';
            return html;
        }

        function renderInvestmentRecommendations(recommendations) {
            if (!recommendations) return '';

            return `
                <div class="section-header">üí° Investment Recommendations</div>
                <div class="recommendation">
                    <h2 style="color: #4facfe; margin-bottom: 15px;">
                        ${recommendations.overall_stance || 'N/A'}
                    </h2>
                    <div class="grid">
                        <div>
                            <div class="metric">
                                <span class="metric-label">Confidence Level</span>
                                <span class="metric-value positive">${recommendations.confidence_level || 'N/A'}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Risk/Reward Profile</span>
                                <span class="metric-value">${recommendations.risk_reward_profile || 'N/A'}</span>
                            </div>
                        </div>
                        <div>
                            <h3>üìä Position Sizing</h3>
                            ${renderObject(recommendations.position_sizing)}
                        </div>
                    </div>

                    ${recommendations.current_market_context ? `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                        <h3>üìç Market Context</h3>
                        <p>${recommendations.current_market_context}</p>
                    </div>
                    ` : ''}

                    ${recommendations.tactical_guidance_oct_2025 ? `
                    <div style="margin-top: 20px;">
                        <h3>üéØ Tactical Guidance</h3>
                        ${renderObject(recommendations.tactical_guidance_oct_2025)}
                    </div>
                    ` : ''}
                </div>
            `;
        }

        function renderRiskDashboard(risks) {
            if (!risks) return '';

            return `
                <div class="section-header">‚ö†Ô∏è Risk Dashboard</div>
                <div class="grid">
                    <div class="card">
                        <h2>üü¢ Upside Catalysts</h2>
                        ${renderRiskItems(risks.upside_catalysts, true)}
                    </div>
                    <div class="card">
                        <h2>üî¥ Downside Risks</h2>
                        ${renderRiskItems(risks.downside_risks, false)}
                    </div>
                </div>
            `;
        }

        function renderRiskItems(items, isUpside) {
            if (!items) return '<p>No data available</p>';

            let html = '';
            let count = 0;
            for (const [key, item] of Object.entries(items)) {
                if (count >= 5) break; // Show top 5
                if (typeof item !== 'object') continue;

                const probabilityColor = item.probability >= 0.7 ? 'positive' : 
                                       item.probability >= 0.4 ? 'neutral' : 'negative';

                html += `
                    <div class="trigger-item">
                        <h3 style="color: ${isUpside ? '#2ecc71' : '#e74c3c'}; margin-bottom: 10px;">
                            ${item.description || key}
                        </h3>
                        <div class="metric">
                            <span class="metric-label">Probability</span>
                            <span class="metric-value ${probabilityColor}">
                                ${item.probability ? (item.probability * 100).toFixed(0) + '%' : 'N/A'}
                            </span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">${isUpside ? 'Impact' : 'Severity'}</span>
                            <span class="metric-value">${item.impact || item.severity || 'N/A'}</span>
                        </div>
                        ${item.current_status ? `
                        <p style="color: #a8dadc; margin-top: 10px; font-size: 0.9rem;">
                            ${item.current_status}
                        </p>
                        ` : ''}
                    </div>
                `;
                count++;
            }

            return html || '<p>No items available</p>';
        }

        function renderTimelineRoadmap(timeline) {
            if (!timeline) return '';

            let html = '<div class="section-header">üìÖ Timeline Roadmap</div><div class="grid">';

            for (const [key, period] of Object.entries(timeline)) {
                if (typeof period !== 'object') continue;

                html += `
                    <div class="card">
                        <h2>${period.period || key}</h2>
                        ${period.expected_price_action ? `
                        <div style="background: rgba(79,172,254,0.1); padding: 10px; border-radius: 8px; margin: 10px 0;">
                            <strong style="color: #4facfe;">Expected Price Action:</strong>
                            <p style="margin-top: 5px;">${period.expected_price_action}</p>
                        </div>
                        ` : ''}

                        ${period.critical_events?.length ? `
                        <h3>üéØ Critical Events</h3>
                        ${period.critical_events.slice(0, 4).map(event => `
                            <div class="timeline-event">
                                <strong>${event.date || event.event}</strong>
                                ${event.event && event.date ? `<p>${event.event}</p>` : ''}
                                ${event.impact ? `<span class="badge ${getBadgeClass(event.impact)}">${event.impact}</span>` : ''}
                                ${event.probability ? `<span style="color: #a8dadc; font-size: 0.85rem;">Prob: ${(event.probability * 100).toFixed(0)}%</span>` : ''}
                            </div>
                        `).join('')}
                        ` : ''}
                    </div>
                `;
            }

            html += '</div>';
            return html;
        }

        function renderPriceScenarios(scenarios) {
            if (!scenarios) return '';

            let html = '<div class="section-header">üé≤ Price Scenarios</div><div class="grid">';

            for (const [key, scenario] of Object.entries(scenarios)) {
                if (typeof scenario !== 'object') continue;

                html += `
                    <div class="card">
                        <h2>${scenario.scenario_name || key}</h2>
                        <span class="badge badge-info">
                            Probability: ${scenario.probability ? (scenario.probability * 100).toFixed(0) + '%' : 'N/A'}
                        </span>

                        ${scenario.target_price_2025 || scenario.target_price_2026 ? `
                        <h3>üéØ Price Targets</h3>
                        ${scenario.target_price_2025 ? `<div class="metric">
                            <span class="metric-label">2025</span>
                            <span class="metric-value positive">${scenario.target_price_2025}</span>
                        </div>` : ''}
                        ${scenario.target_price_2026 ? `<div class="metric">
                            <span class="metric-label">2026</span>
                            <span class="metric-value positive">${scenario.target_price_2026}</span>
                        </div>` : ''}
                        ${scenario.target_price_2030 ? `<div class="metric">
                            <span class="metric-label">2030</span>
                            <span class="metric-value positive">${scenario.target_price_2030}</span>
                        </div>` : ''}
                        ` : ''}

                        ${scenario.description ? `
                        <p style="color: #a8dadc; margin-top: 15px;">${scenario.description}</p>
                        ` : ''}
                    </div>
                `;
            }

            html += '</div>';
            return html;
        }

        function renderNewDevelopments(data) {
            let html = '';

            // Check for new major developments
            if (data.evernorth_xrp_treasury_spac) {
                html += `
                    <div class="section-header">üöÄ Major New Developments</div>
                    <div class="card">
                        <h2>Evernorth $1B+ SPAC Deal</h2>
                        <p>${data.evernorth_xrp_treasury_spac.announcement_date}</p>
                        <span class="badge ${getBadgeClass(data.evernorth_xrp_treasury_spac.strategic_significance)}">
                            ${data.evernorth_xrp_treasury_spac.strategic_significance}
                        </span>
                        ${renderObject(data.evernorth_xrp_treasury_spac.deal_structure)}
                    </div>
                `;
            }

            if (data.federal_reserve_faster_payments) {
                html += `
                    <div class="card">
                        <h2>üèõÔ∏è Federal Reserve Integration</h2>
                        <p>${data.federal_reserve_faster_payments.announcement_date}</p>
                        <span class="badge ${getBadgeClass(data.federal_reserve_faster_payments.strategic_significance)}">
                            ${data.federal_reserve_faster_payments.strategic_significance}
                        </span>
                        <p style="margin-top: 15px;">${data.federal_reserve_faster_payments.ripple_position?.significance || ''}</p>
                    </div>
                `;
            }

            return html;
        }

        function renderObject(obj) {
            if (!obj || typeof obj !== 'object') return '';

            let html = '';
            for (const [key, value] of Object.entries(obj)) {
                if (typeof value === 'object') continue; // Skip nested objects for simplicity

                const label = key.replace(/_/g, ' ').replace(/\w/g, l => l.toUpperCase());
                html += `
                    <div class="metric">
                        <span class="metric-label">${label}</span>
                        <span class="metric-value">${value}</span>
                    </div>
                `;
            }
            return html;
        }

        // Initialize dashboard
        loadDashboard();
    </script>
</body>
</html>
